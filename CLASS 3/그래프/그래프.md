Graph
# 개요
레온하르트 오일러가 한붓그리기 문제를 해결하면서 시작된 분야로, 도시와 도로를 나타낸 지도라고 생각하면 쉽습니다.
![[그래프.svg]]
1~6번들을 **정점**이라고 하고, 각 정점들을 이은 선들을 **간선**이라고 합니다. 만약 간선이 방향을 갖는다면 방향 그래프라고 하고, 그렇지 않으면 무향 그래프라고 합니다. 이때 간선으로 연결된 두 정점은 서로 **인접**한다고 합니다.
# 구현
그래프를 구현하는 방법은 여러가지가 있지만, 보통 **인접 리스트**와 **인접 행렬**을 많이 사용합니다. DFS나 BFS와 같은 탐색 알고리즘에서는 인접 리스트를 사용하는 것이 더 빠릅니다. 대신 인접 행렬은 인접 리스트에 비해 유용한 성질이 있습니다.
## 인접 리스트
각 정점에 대해 연결된 정점들을 나열하는 방식입니다. 처음에 소개한 사진을 인접 리스트로 표현하면 아래처럼 쓸 수 있습니다.
```python
adj = {
    1: [2, 5],
    2: [1, 3, 5],
    3: [2, 4],
    4: [3, 5, 6],
    5: [1, 2, 4],
    6: [4],
}
```
보통 문제를 풀 때는 딕셔너리와 같은 맵 구조 대신 2차원 배열을 많이 사용합니다.
```python
adj = [
    [],
    [2, 5],
    [1, 3, 5],
    [2, 4],
    [3, 5, 6],
    [1, 2, 4],
    [4],
]
```
## 인접 행렬
$A_{uv}$를 $u$에서 $v$로 가는 간선이 있다면 $1$, 아니면 $0$으로 적는 행렬입니다.
$$
A =
\begin{bmatrix}
0 & 1 & 0 & 0 & 1 & 0 \\
1 & 0 & 1 & 0 & 1 & 0 \\
0 & 1 & 0 & 1 & 0 & 0 \\
0 & 0 & 1 & 0 & 1 & 1 \\
1 & 1 & 0 & 1 & 0 & 0 \\
0 & 0 & 0 & 1 & 0 & 0
\end{bmatrix}
$$
무향 그래프인 경우 $A$가 대칭행렬임을 알 수 있습니다. $[A^n]_{ij}$는 정확히 $n$번만에 $i$에서 $j$로 이동하는 경로의 수를 나타낸다는 특징이 있습니다.
### 증명
수학적 귀납법을 이용해 증명할 수 있습니다.

정점이 $N$개인 그래프의 인접행렬 $A$가 있습니다.
$A^1$은 자명하게 성립합니다. $A^k$이 성립한다고 합시다. 이때 $A^{k+1}$의 각 원소를 구하면
$[A^{k+1}]_{ab} = \sum\limits^{N}_{i=1} [A^k]_{ai} \times [A]_{ib}$
$[A^k]_{ai}$는 $a$에서 $i$로 $k$번 만에 가는 경우의 수이고, $[A]_{ib}$는 $i$에서 $b$로 갈 수 있는지 여부($1$ 또는 $0$)이므로 성립합니다.